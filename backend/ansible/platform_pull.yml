##
# ansible-playbook -i inventory platform_add.yml
---
- name: Add a new platform
  hosts: all
  gather_facts: false
  remote_user: root

  vars_files:
    - vars/main.yml

  # pre_tasks:
  #   - include_role:
  #       name: etc-git
  #       tasks_from: commit.yml
  #     vars:
  #       commit_message: "Ansible {{ ansible_version.full }} pre-run playbook.yml playbook"

  tasks:
    - name: Pull platform
      ansible.builtin.include_role:
        name: platform
        tasks_from: pull.yml

  # post_tasks:
  #   - include_role:
  #       name: etc-git
  #       tasks_from: commit.yml
  #     vars:
  #       commit_message: "Ansible {{ ansible_version.full }} post-run playbook.yml playbook"
